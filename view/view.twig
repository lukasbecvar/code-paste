{% extends 'common/base.twig' %}

{# PASTE CONTENT VIEW COMPONENT #}
{% block body %}
    {# LOAD SYNTAX HIGHLIGHTER #}
    {{ encore_entry_script_tags('code-paste-js') }}

    <div style="position: relative;">
        {# COPY BUTTON #}
        <button id="copy-button">Copy</button>
        
        {# PASTE CONTENT #}
        <code>
            <pre id="content">
                <code>{{ paste|raw }}</code>
            </pre>
        </code>
    </div>

    {# COPY TO CLIPBOARD SCRIPT #}
    <script>
        document.getElementById('copy-button').addEventListener('click', function() {
            var content = document.getElementById('content').innerText;
            navigator.clipboard.writeText(content).then(function() {
                console.log('Copied to clipboard!');
            }).catch(function(error) {
                console.log('Copy failed: ' + error);
            });
        });
    </script>
{% endblock %}
